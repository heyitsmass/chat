@import "tailwindcss";

@theme {
	--font-title: var(--font-outfit);

	--font-button: var(--font-work-sans);

	--default-font-family: var(--font-inter), "sans-serif";
	--default-mono-font-family: var(--font-fira), "courier";

	--text-color-primary: var(--color-zinc-50);
	--text-color-secondary: var(--color-zinc-400);

	--color-highlight: #25b09b;
}

@utility neumorphism {
	box-shadow: 8px 8px 15px #131317, -8px -8px 15px #1d1d23;
}

@utility neumorphism-sm {
	box-shadow: 4px 4px 8px #202022, -4px -4px 8px #2e2e32;
}

@utility neumorphism-red {
	box-shadow: 5px 5px 7px #b34558, -5px -5px 7px #ff81a4;
}

@utility center {
	@apply items-center justify-center;
}

@utility page {
	@apply w-full h-full rounded-lg;
}

@utility highlight {
	background-color: #25b09b;
}

@layer utilities {
	/* Custom scrollbar styles for webkit browsers (Chrome, Safari, Edge) */
	.custom-scrollbar::-webkit-scrollbar {
		width: 8px;
		height: 8px;
	}

	.custom-scrollbar::-webkit-scrollbar-track {
		background: rgba(0, 0, 0, 0.05);
		border-radius: 10px;
	}

	.custom-scrollbar::-webkit-scrollbar-thumb {
		background: linear-gradient(45deg, #6366f1, #8b5cf6);
		border-radius: 10px;
		transition: all 0.3s ease;
	}

	.custom-scrollbar::-webkit-scrollbar-thumb:hover {
		background: linear-gradient(45deg, #4f46e5, #7c3aed);
		transform: scale(1.1);
	}

	/* Firefox scrollbar styling */
	.custom-scrollbar {
		scrollbar-width: thin;
		scrollbar-color: #6366f1 rgba(0, 0, 0, 0.05);
	}

	/* Dark theme variant */
	.custom-scrollbar-dark::-webkit-scrollbar {
		width: 8px;
		height: 8px;
	}

	.custom-scrollbar-dark::-webkit-scrollbar-track {
		background: rgba(255, 255, 255, 0.1);
		border-radius: 10px;
	}

	.custom-scrollbar-dark::-webkit-scrollbar-thumb {
		background: linear-gradient(45deg, #10b981, #06d6a0);
		border-radius: 10px;
		transition: all 0.3s ease;
	}

	.custom-scrollbar-dark::-webkit-scrollbar-thumb:hover {
		background: linear-gradient(45deg, #059669, #048c6b);
	}

	.custom-scrollbar-dark {
		scrollbar-width: thin;
		scrollbar-color: #10b981 rgba(255, 255, 255, 0.1);
	}

	/* Minimal variant */
	.custom-scrollbar-minimal::-webkit-scrollbar {
		width: 8px;
		height: 8px;
	}

	.custom-scrollbar-minimal::-webkit-scrollbar-track {
		background: transparent;
	}

	.custom-scrollbar-minimal::-webkit-scrollbar-thumb {
		background: linear-gradient(45deg, #6366f1, #8b5cf6);
		border-radius: 10px;
		transition: all 0.3s ease;
		background-clip: padding-box !important;
	}

	.custom-scrollbar-minimal::-webkit-scrollbar-thumb:hover {
		background: linear-gradient(45deg, #4f46e5, #7c3aed);
	}

	.custom-scrollbar-minimal {
		scrollbar-width: thin;
		scrollbar-color: #6366f1 transparent;
	}
}

@layer utilities {
	.no-scrollbar::-webkit-scrollbar {
		display: none;
	}

	.no-scrollbar {
		-ms-overflow-style: none;
		scrollbar-width: none;
	}

	.m-loader-container {
		width: 30px;
		/* Adjust overall size of the loader */
		/* Aspect ratio will be determined by the SVG's viewBox */
	}

	.m-logo-loader {
		width: 100%;
		height: auto;
		display: block;
	}

	.m-segment {
		fill: #25b09b;
	}

	.m-segment-overlay {
		fill: #4a4a4a;
		/* Inactive color for segments */
		animation-name: highlight-loader-segment-any;
		animation-duration: 2s;
		/* Duration for one segment's pulse */
		animation-iteration-count: infinite;
		animation-timing-function: ease-in-out;
	}

	@keyframes highlight-loader-segment {
		0%,
		100% {
			/* Full cycle of one segment */
			fill: #4a4a4a;
			/* Inactive color */
		}

		30%,
		70% {
			/* Highlighted portion of the cycle */
			fill: #25b09b;
			/* Active color (teal from your example) */
		}
	}

	@keyframes highlight-loader-segment-any {
		0%,
		100% {
			/* Full cycle of one segment */
			fill: #4a4a4a;
			/* Inactive color */
		}

		30%,
		70% {
			/* Highlighted portion of the cycle */
			fill: currentColor;
			/* Active color (teal from your example) */
		}
	}

	/* Staggering animation delays for sequential lighting */
	/* 6 segments, 2s total duration for one pulse. Delay increment = 2s / 6 = ~0.33s */
	#m-segment-overlay-1 {
		animation-delay: 0s;
	}

	#m-segment-overlay-2 {
		animation-delay: 0.286s;
	}

	#m-segment-overlay-3 {
		animation-delay: 0.571s;
	}

	#m-segment-overlay-4 {
		animation-delay: 0.857s;
	}

	#m-segment-overlay-5 {
		animation-delay: 1.143s;
	}

	#m-segment-overlay-6 {
		animation-delay: 1.429s;
	}

	#m-segment-overlay-7 {
		animation-delay: 1.714s;
	}

	.m-loader-outline {
		fill: none;
		stroke: #231f20;
		/* Stroke color from your SVG's .cls-2, .cls-3 */
		stroke-width: 2;
		/* Adjust stroke thickness as desired (SVG units) */
		stroke-linejoin: round;
		/* Optional: for smoother corners on stroke */
		stroke-linecap: round;
		/* Optional: for softer line ends if path wasn't closed */
	}
}

:root {
	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		@apply font-semibold tracking-wide;
	}

	h1 {
		@apply text-4xl;
	}

	h2 {
		@apply text-3xl;
	}

	h3 {
		@apply text-2xl;
	}

	h4 {
		@apply text-xl;
	}

	h5 {
		@apply text-lg;
	}

	blockquote {
		@apply border border-zinc-800 px-4 border-l-4 border-l-highlight italic text-secondary py-2 rounded;
		@apply bg-zinc-800;
	}

	a {
		@apply text-indigo-300 hover:underline hover:text-indigo-500;
		@apply active:text-indigo-500;
	}

	table {
		@apply bg-zinc-600 border border-zinc-700;

		thead {
			@apply bg-zinc-800 border border-zinc-700;

			tr th {
				@apply px-8 py-2 not-last:border-r border-zinc-700;
			}
		}

		tbody {
			tr td {
				@apply px-8 py-2 not-last:border-r border-zinc-700;
			}
		}
	}

	ol {
		list-style: circle;
		padding-left: 1rem;
	}

	ul {
		list-style: decimal;
		padding-left: 1.25rem;
	}

	.tooltip-visible {
		.tooltip-content {
			@apply opacity-100;
			@apply z-50;

			&:hover {
				@apply z-100;
			}
		}
	}

	.tooltip-content {
		@apply cursor-default;
		@apply transition-opacity duration-300;
		@apply opacity-0 absolute;
		@apply -z-1 max-w-sm w-max h-max text-center;
	}
}

html {
	@apply h-screen w-screen overflow-hidden bg-zinc-950 text-zinc-50;
}

body {
	@apply h-full w-full overflow-hidden border border-zinc-800 rounded-lg grid grid-cols-[auto_1fr];

	&.loading {
		@apply bg-zinc-900;
	}

	&.loaded {
		@apply bg-zinc-950;
	}
}

ol.menu {
	@apply bg-zinc-700;

	li {
		@apply border-b border-solid border-zinc-600;
	}
}

dialog.dialog:not(:open) {
	z-index: -1;
}

dialog.dialog:open {
	transform: translateX();

	@apply backdrop-blur-xs backdrop-brightness-60;
}

#sidebar {
	@apply h-full min-w-12 w-12 rounded-tl-lg rounded-bl-lg shadow-xl items-center grid grid-rows-[auto_1fr_auto] transition-[width] duration-300 ease-in-out;

	&.sidebar-open {
		@apply w-72;
	}
}

.dropdown-wrapper {
	@apply h-max relative min-w-max;

	.select {
		--dropdown-height: 20rem;
		@apply relative z-3;

		button {
			@apply flex items-center space-x-3 px-5 py-4 transition-all duration-200 rounded-lg w-full;

			box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.4),
				-6px -6px 12px rgba(60, 60, 60, 0.1);
		}

		button:active {
			box-shadow: inset 3px 3px 6px rgba(0, 0, 0, 0.4),
				inset -3px -3px 6px rgba(60, 60, 60, 0.1);
		}

		&:has(.options.open) {
			@apply z-49;
		}

		.options {
			@apply absolute min-w-max  w-max rounded-lg z-50 overflow-hidden transition-[height_margin] duration-400 ease-in-out bg-zinc-900;
			box-shadow: 12px 12px 24px rgba(0, 0, 0, 0.5),
				-12px -12px 24px rgba(60, 60, 60, 0.1);
			scrollbar-gutter: both-edges;
			&.bottom {
				@apply top-full left-0 mt-4;
			}

			&.top {
				@apply bottom-full left-0 mb-4;
			}
			&.left {
				@apply top-0 right-full mr-4;
				&.ascending {
					@apply bottom-0 top-auto;
				}
			}
			&.right {
				@apply top-0 left-full ml-4;
				&.ascending {
					@apply bottom-0 top-auto;
				}
			}

			&.open {
				@apply h-[var(--dropdown-height)];
			}

			&:not(.open) {
				@apply h-0 shadow-none pointer-events-none;
			}

			button {
				@apply w-full flex items-center space-x-4 px-4 py-4 transition-all duration-200 text-left rounded-lg;

				&.selected {
					@apply bg-transparent;
					box-shadow: inset 4px 4px 8px rgba(0, 0, 0, 0.3),
						inset -4px -4px 8px rgba(60, 60, 60, 0.1) !important;

					.selected-indicator {
						@apply !opacity-100;
					}
				}

				&:not(.selected) {
					@apply shadow-none;

					&:hover {
						box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3),
							-4px -4px 8px rgba(60, 60, 60, 0.1) !important;
						@apply !bg-zinc-800;
					}
				}

				.selected-indicator {
					@apply from-indigo-400 to-violet-500 bg-gradient-to-tr w-3 h-3 rounded-full opacity-0 transition-opacity duration-200;
				}
			}
		}
	}
}

.neumorphic-button {
	@apply p-2.5 text-inherit transition-all duration-200 rounded-lg;
	box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.4),
		-6px -6px 12px rgba(60, 60, 60, 0.1);

	&.icon {
		@apply flex items-center justify-center;
	}

	&:hover {
		&:active {
			box-shadow: inset 3px 3px 6px rgba(0, 0, 0, 0.4),
				inset -3px -3px 6px rgba(60, 60, 60, 0.1) !important;
		}
	}

	&.send {
		&:not(:disabled) {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.4),
				-6px -6px 12px rgba(102, 126, 234, 0.1),
				inset 0 0 0 1px rgba(255, 255, 255, 0.1);
		}
	}

	&:disabled {
		@apply opacity-50 cursor-not-allowed;
		box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.4),
			-6px -6px 12px rgba(60, 60, 60, 0.1);
	}
}

.suggestions {
	@apply mb-8 flex flex-wrap gap-3 justify-center;
	.suggestion {
		@apply px-5 py-3 text-sm text-gray-300 hover:text-white transition-all duration-300 rounded-xl font-medium;
		box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.4),
			-6px -6px 12px rgba(60, 60, 60, 0.1);
		&:hover {
			box-shadow: inset 3px 3px 8px rgba(0, 0, 0, 0.4),
				inset -3px -3px 8px rgba(60, 60, 60, 0.1);
		}
	}
}

.text-input {
	@apply relative grid min-w-2xl max-w-4xl grid-cols-[1fr_auto] items-center pr-4 rounded-xl;
	box-shadow: inset 8px 8px 16px rgba(0, 0, 0, 0.4),
		inset -8px -8px 16px rgba(60, 60, 60, 0.1);
	.textbox-container {
		@apply w-full overflow-hidden flex flex-1 p-1;
		.textbox {
			field-sizing: content;
			@apply flex resize-none w-full text-wrap break-words text-base bg-transparent text-zinc-50 placeholder:text-zinc-400 px-6 py-4 pr-16;

			&:focus {
				@apply outline-none;
			}
		}
	}
}

.chat-input {
	@apply w-full max-w-5xl mx-auto p-8 bg-zinc-900 border;

	.chat-input-content {
		@apply rounded-3xl p-1 transition-all duration-300;
		box-shadow: 12px 12px 24px rgba(0, 0, 0, 0.5),
			-12px -12px 24px rgba(60, 60, 60, 0.1);

		.text-input-container {
			@apply p-6;
			.text-input-content {
				@apply flex items-end space-x-4;
			}
		}
	}
}

.attachments-bar {
	@apply mx-4 mt-4 mb-2 p-4 rounded-2xl;
	box-shadow: inset 4px 4px 8px rgba(0, 0, 0, 0.4),
		inset -4px -4px 8px rgba(60, 60, 60, 0.1);

	.attachments-bar-content {
		@apply flex items-center space-x-4 overflow-x-auto;

		.attachments-bar-annotation {
			@apply text-xs text-gray-400 whitespace-nowrap font-medium;
		}
		.attachment {
			@apply flex items-center space-x-2 px-3 py-2 text-sm whitespace-nowrap transition-all duration-200 rounded-xl cursor-pointer;
			box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3),
				-4px -4px 8px rgba(60, 60, 60, 0.1);
		}
	}
}
